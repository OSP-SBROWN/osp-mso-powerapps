# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
ComponentDefinitions:
  OutputOverrideModal:
    DefinitionType: CanvasComponent
    AccessAppScope: true
    CustomProperties:
      BaysOverride:
        PropertyKind: Input
        DisplayName: BaysOverride
        Description: A custom property
        DataType: Number
        Default: =
      CatCode:
        PropertyKind: Input
        DisplayName: CatCode
        Description: A custom property
        DataType: Number
        Default: =100
      CatName:
        PropertyKind: Input
        DisplayName: CatName
        Description: A custom property
        DataType: Text
        Default: ="Text"
      CurrentBays:
        PropertyKind: Input
        DisplayName: CurrentBays
        Description: A custom property
        DataType: Number
        Default: =100
      ReccBays:
        PropertyKind: Input
        DisplayName: ReccBays
        Description: A custom property
        DataType: Number
        Default: =100
    Properties:
      Fill: =RGBA(0, 0, 0, 0.5)
      Height: =App.DesignHeight
      Width: =App.DesignWidth
    Children:
      - Container5:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            Height: =Parent.Height
            LayoutDirection: =LayoutDirection.Vertical
            PaddingBottom: =150
            PaddingLeft: =150
            PaddingRight: =150
            PaddingTop: =150
            Width: =Parent.Width
          Children:
            - Container6:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  Fill: =App.Theme.Colors.Lighter50
                  Height: =App.DesignHeight*0.7
                  LayoutDirection: =LayoutDirection.Vertical
                Children:
                  - Container3_3:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        Fill: =App.Theme.Colors.Primary
                        FillPortions: =0
                        Height: =40
                        LayoutDirection: =LayoutDirection.Horizontal
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                      Children:
                        - TextCanvas1_5:
                            Control: Text@0.0.51
                            Properties:
                              FillPortions: =1
                              Height: =Parent.Height
                              PaddingLeft: =15
                              Size: =Self.Height*0.7
                              Text: =$"{Dict("Output Bay Override")} - {OutputOverrideModal.CatName} ({OutputOverrideModal.CatCode})"
                              VerticalAlign: =VerticalAlign.Middle
                        - ButtonCanvas1_4:
                            Control: Button@0.0.45
                            Properties:
                              FontSize: =Self.Height*0.7
                              Height: =Parent.Height
                              Icon: ="Dismiss"
                              Layout: ='ButtonCanvas.Layout'.IconOnly
                              OnSelect: =Set(Vis_OutputOverrideModal,false)
                              Text: ="Refresh Reports List"
                  - Container7:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutDirection: =LayoutDirection.Vertical
                        PaddingBottom: =Self.Height*0.15
                        PaddingLeft: =Self.Width*0.15
                        PaddingRight: =Self.Width*0.15
                        PaddingTop: =Self.Height*0.15
                      Children:
                        - TextCanvas6:
                            Control: Text@0.0.51
                            Properties:
                              Size: =18
                              Text: =Dict("Current Bays")
                              Weight: ='TextCanvas.Weight'.Semibold
                              Width: =250
                        - TextInputCanvas1:
                            Control: TextInput@0.0.54
                            Properties:
                              Value: =OutputOverrideModal.CurrentBays
                              Width: =250
                        - Rectangle2:
                            Control: Rectangle@2.3.0
                            Properties:
                              Fill: =RGBA(0,0,0,0)
                              Height: =20
                        - TextCanvas6_1:
                            Control: Text@0.0.51
                            Properties:
                              Size: =18
                              Text: =$"System {Dict("Proposed Bays")}"
                              Weight: ='TextCanvas.Weight'.Semibold
                              Width: =250
                        - TextInputCanvas1_1:
                            Control: TextInput@0.0.54
                            Properties:
                              Value: =OutputOverrideModal.ReccBays
                              Width: =250
                        - Rectangle2_2:
                            Control: Rectangle@2.3.0
                            Properties:
                              Fill: =RGBA(0,0,0,0)
                              Height: =20
                        - TextCanvas6_2:
                            Control: Text@0.0.51
                            Properties:
                              Size: =18
                              Text: =$"{Dict("Output Bay Override")}"
                              Weight: ='TextCanvas.Weight'.Semibold
                              Width: =250
                        - TxtIn_BayOverride_Override:
                            Control: TextInput@0.0.54
                            Properties:
                              Value: =OutputOverrideModal.BaysOverride
                              Width: =250
                        - Container8:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              DropShadow: =DropShadow.None
                              LayoutAlignItems: =LayoutAlignItems.Center
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =25
                              LayoutJustifyContent: =LayoutJustifyContent.Center
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                            Children:
                              - ButtonCanvas1_5:
                                  Control: Button@0.0.45
                                  Properties:
                                    Appearance: ='ButtonCanvas.Appearance'.Secondary
                                    Icon: ="Dismiss"
                                    OnSelect: =Set(Vis_OutputOverrideModal,false)
                                    Text: ="Cancel"
                              - ButtonCanvas1:
                                  Control: Button@0.0.45
                                  Properties:
                                    Appearance: ='ButtonCanvas.Appearance'.Secondary
                                    DisplayMode: =If(IsBlankOrError(TxtIn_BayOverride_Override.Value),DisplayMode.Disabled,DisplayMode.Edit)
                                    Icon: ="Eraser"
                                    OnSelect: |-
                                      =Func_Update_BayOutputOverride_Single(OutputOverrideModal.CatCode,TxtIn_BayOverride_Override.Value,true);
                                      Reset(TxtIn_BayOverride_Override);
                                      Set(Vis_OutputOverrideModal,false)
                                    Text: ="Clear"
                              - ButtonCanvas1_1:
                                  Control: Button@0.0.45
                                  Properties:
                                    Icon: ="Save"
                                    OnSelect: |-
                                      =Func_Update_BayOutputOverride_Single(OutputOverrideModal.CatCode,TxtIn_BayOverride_Override.Value,false);
                                      Set(Vis_OutputOverrideModal,false)
                                    Text: ="Submit"
